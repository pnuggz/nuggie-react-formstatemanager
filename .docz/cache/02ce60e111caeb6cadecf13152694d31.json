{"remainingRequest":"G:\\AppTute\\nuggie-react-useform\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!G:\\AppTute\\nuggie-react-useform\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!G:\\AppTute\\nuggie-react-useform\\node_modules\\source-map-loader\\index.js!G:\\AppTute\\nuggie-react-useform\\src\\useForm.js","dependencies":[{"path":"G:\\AppTute\\nuggie-react-useform\\src\\useForm.js","mtime":1574415969564},{"path":"G:\\AppTute\\nuggie-react-useform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\AppTute\\nuggie-react-useform\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\AppTute\\nuggie-react-useform\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\AppTute\\nuggie-react-useform\\node_modules\\source-map-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJHOlxcQXBwVHV0ZVxcbnVnZ2llLXJlYWN0LXVzZWZvcm1cXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiRzpcXEFwcFR1dGVcXG51Z2dpZS1yZWFjdC11c2Vmb3JtXFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwuZW50ZXJNb2R1bGUgOiB1bmRlZmluZWQ7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfQoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7CmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7CmV4cG9ydCB2YXIgcHJvcFR5cGVzID0gewogIHN0YXRlU2NoZW1hOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsCiAgdmFsaWRhdGlvblNjaGVtYTogUHJvcFR5cGVzLm9iamVjdCwKICBjYWxsYmFjazogUHJvcFR5cGVzLmZ1bmMKfTsKCmlmICh0eXBlb2YgcHJvcFR5cGVzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9wVHlwZXMgJiYgcHJvcFR5cGVzID09PSBPYmplY3QocHJvcFR5cGVzKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKHByb3BUeXBlcykpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcFR5cGVzLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAicHJvcFR5cGVzIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXHVzZUZvcm0uanMiCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB2YXIgZGVmYXVsdFByb3BzID0gewogIHZhbGlkYXRpb25TY2hlbWE6IHt9LAogIGNhbGxiYWNrOiBudWxsCn07CgppZiAodHlwZW9mIGRlZmF1bHRQcm9wcyAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVmYXVsdFByb3BzICYmIGRlZmF1bHRQcm9wcyA9PT0gT2JqZWN0KGRlZmF1bHRQcm9wcykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShkZWZhdWx0UHJvcHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlZmF1bHRQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogImRlZmF1bHRQcm9wcyIsCiAgICAgIGZpbGVuYW1lOiAic3JjXFx1c2VGb3JtLmpzIgogICAgfQogIH0pOwp9Cgp2YXIgVXNlRm9ybSA9IGZ1bmN0aW9uIFVzZUZvcm0ocHJvcHMpIHsKICB2YXIgc3RhdGVTY2hlbWEgPSBwcm9wcy5zdGF0ZVNjaGVtYSwKICAgICAgdmFsaWRhdGlvblNjaGVtYSA9IHByb3BzLnZhbGlkYXRpb25TY2hlbWEsCiAgICAgIGNhbGxiYWNrID0gcHJvcHMuY2FsbGJhY2s7CgogIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShzdGF0ZVNjaGVtYSksCiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLAogICAgICBzdGF0ZSA9IF91c2VTdGF0ZTJbMF0sCiAgICAgIHNldFN0YXRlID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZSh0cnVlKSwKICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLAogICAgICBkaXNhYmxlID0gX3VzZVN0YXRlNFswXSwKICAgICAgc2V0RGlzYWJsZSA9IF91c2VTdGF0ZTRbMV07CgogIHZhciBfdXNlU3RhdGU1ID0gdXNlU3RhdGUoZmFsc2UpLAogICAgICBfdXNlU3RhdGU2ID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlNSwgMiksCiAgICAgIGlzRGlydHkgPSBfdXNlU3RhdGU2WzBdLAogICAgICBzZXRJc0RpcnR5ID0gX3VzZVN0YXRlNlsxXTsgLy8gRGlzYWJsZSBidXR0b24gaW4gaW5pdGlhbCByZW5kZXIuCgoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgc2V0RGlzYWJsZSh0cnVlKTsKICB9LCBbXSk7IC8vIEZvciBldmVyeSBjaGFuZ2VkIGluIG91ciBzdGF0ZSB0aGlzIHdpbGwgYmUgZmlyZWQKICAvLyBUbyBiZSBhYmxlIHRvIGRpc2FibGUgdGhlIGJ1dHRvbgoKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgaWYgKGlzRGlydHkpIHsKICAgICAgc2V0RGlzYWJsZSh2YWxpZGF0ZVN0YXRlKCkpOwogICAgfQogIH0sIFtzdGF0ZSwgaXNEaXJ0eV0pOyAvLyBVc2VkIHRvIGRpc2FibGUgc3VibWl0IGJ1dHRvbiBpZiB0aGVyZSdzIGFuIGVycm9yIGluIHN0YXRlCiAgLy8gb3IgdGhlIHJlcXVpcmVkIGZpZWxkIGluIHN0YXRlIGhhcyBubyB2YWx1ZS4KICAvLyBXcmFwcGVkIGluIHVzZUNhbGxiYWNrIHRvIGNhY2hlZCB0aGUgZnVuY3Rpb24gdG8gYXZvaWQgaW50ZW5zaXZlIG1lbW9yeSBsZWFrZWQKICAvLyBpbiBldmVyeSByZS1yZW5kZXIgaW4gY29tcG9uZW50CgogIHZhciB2YWxpZGF0ZVN0YXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgewogICAgdmFyIGhhc0Vycm9ySW5TdGF0ZSA9IE9iamVjdC5rZXlzKHZhbGlkYXRpb25TY2hlbWEpLnNvbWUoZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgaXNJbnB1dEZpZWxkUmVxdWlyZWQgPSB2YWxpZGF0aW9uU2NoZW1hW2tleV0ucmVxdWlyZWQ7CiAgICAgIHZhciBzdGF0ZVZhbHVlID0gc3RhdGVba2V5XS52YWx1ZTsgLy8gc3RhdGUgdmFsdWUKCiAgICAgIHZhciBzdGF0ZUVycm9yID0gc3RhdGVba2V5XS5lcnJvcjsgLy8gc3RhdGUgZXJyb3IKCiAgICAgIHJldHVybiBpc0lucHV0RmllbGRSZXF1aXJlZCAmJiAhc3RhdGVWYWx1ZSB8fCBzdGF0ZUVycm9yOwogICAgfSk7CiAgICByZXR1cm4gaGFzRXJyb3JJblN0YXRlOwogIH0sIFtzdGF0ZSwgdmFsaWRhdGlvblNjaGVtYV0pOyAvLyBVc2VkIHRvIGhhbmRsZSBldmVyeSBjaGFuZ2VzIGluIGV2ZXJ5IGlucHV0CgogIHZhciBoYW5kbGVPbkNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkgewogICAgc2V0SXNEaXJ0eSh0cnVlKTsKICAgIHZhciBuYW1lID0gZXZlbnQudGFyZ2V0Lm5hbWU7CiAgICB2YXIgdmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7CiAgICB2YXIgZXJyb3IgPSAnJzsKCiAgICBpZiAodmFsaWRhdGlvblNjaGVtYVtuYW1lXS5yZXF1aXJlZCkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgZXJyb3IgPSAiIi5jb25jYXQobmFtZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyKDEpLCAiIGZpZWxkIGlzIHJlcXVpcmVkLiIpOwogICAgICB9CiAgICB9CgogICAgaWYgKHZhbGlkYXRpb25TY2hlbWFbbmFtZV0udmFsaWRhdG9yICE9PSBudWxsICYmIHR5cGVvZiB2YWxpZGF0aW9uU2NoZW1hW25hbWVdLnZhbGlkYXRvciA9PT0gJ29iamVjdCcpIHsKICAgICAgaWYgKHZhbHVlICYmICF2YWxpZGF0aW9uU2NoZW1hW25hbWVdLnZhbGlkYXRvci5yZWdFeC50ZXN0KHZhbHVlKSkgewogICAgICAgIGVycm9yID0gdmFsaWRhdGlvblNjaGVtYVtuYW1lXS52YWxpZGF0b3IuZXJyb3I7CiAgICAgIH0KICAgIH0KCiAgICBzZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKHt9LCBwcmV2U3RhdGUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgewogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBlcnJvcjogZXJyb3IKICAgICAgfSkpOwogICAgfSk7CiAgfSwgW3ZhbGlkYXRpb25TY2hlbWFdKTsKICB2YXIgaGFuZGxlT25TdWJtaXQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIE1ha2Ugc3VyZSB0aGF0IHZhbGlkYXRlU3RhdGUgcmV0dXJucyBmYWxzZQogICAgLy8gQmVmb3JlIGNhbGxpbmcgdGhlIHN1Ym1pdCBjYWxsYmFjayBmdW5jdGlvbgoKICAgIGlmICghdmFsaWRhdGVTdGF0ZSgpKSB7CiAgICAgIGNhbGxiYWNrKHN0YXRlKTsKICAgIH0KICB9LCBbc3RhdGVdKTsKICB2YXIgaGFuZGxlUGFzc3dvcmRTaG93ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgbmFtZSA9IGV2ZW50LnRhcmdldC5wcmV2aW91c1NpYmxpbmcubmFtZTsKICAgIHZhciB0eXBlID0gZXZlbnQudGFyZ2V0LnByZXZpb3VzU2libGluZy50eXBlOwoKICAgIGlmIChuYW1lICE9PSAncGFzc3dvcmQnKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAodHlwZSA9PT0gJ3Bhc3N3b3JkJykgewogICAgICBldmVudC50YXJnZXQucHJldmlvdXNTaWJsaW5nLnR5cGUgPSAndGV4dCc7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBldmVudC50YXJnZXQucHJldmlvdXNTaWJsaW5nLnR5cGUgPSAncGFzc3dvcmQnOwogIH0sIFtzdGF0ZV0pOwogIHJldHVybiB7CiAgICBzdGF0ZTogc3RhdGUsCiAgICBoYW5kbGVPbkNoYW5nZTogaGFuZGxlT25DaGFuZ2UsCiAgICBoYW5kbGVPblN1Ym1pdDogaGFuZGxlT25TdWJtaXQsCiAgICBoYW5kbGVQYXNzd29yZFNob3c6IGhhbmRsZVBhc3N3b3JkU2hvdywKICAgIGRpc2FibGU6IGRpc2FibGUKICB9Owp9OwoKX19zaWduYXR1cmVfXyhVc2VGb3JtLCAidXNlU3RhdGV7W3N0YXRlLCBzZXRTdGF0ZV0oc3RhdGVTY2hlbWEpfVxudXNlU3RhdGV7W2Rpc2FibGUsIHNldERpc2FibGVdKHRydWUpfVxudXNlU3RhdGV7W2lzRGlydHksIHNldElzRGlydHldKGZhbHNlKX1cbnVzZUVmZmVjdHt9XG51c2VFZmZlY3R7fVxudXNlQ2FsbGJhY2t7dmFsaWRhdGVTdGF0ZX1cbnVzZUNhbGxiYWNre2hhbmRsZU9uQ2hhbmdlfVxudXNlQ2FsbGJhY2t7aGFuZGxlT25TdWJtaXR9XG51c2VDYWxsYmFja3toYW5kbGVQYXNzd29yZFNob3d9Iik7CgpVc2VGb3JtLnByb3BUeXBlcyA9IHByb3BUeXBlczsKVXNlRm9ybS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7CnZhciBfZGVmYXVsdCA9IFVzZUZvcm07CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0OwoKaWYgKHR5cGVvZiBVc2VGb3JtICE9PSAndW5kZWZpbmVkJyAmJiBVc2VGb3JtICYmIFVzZUZvcm0gPT09IE9iamVjdChVc2VGb3JtKSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFVzZUZvcm0pKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVzZUZvcm0sICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJVc2VGb3JtIiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXHVzZUZvcm0uanMiCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gdHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsLmRlZmF1bHQgOiB1bmRlZmluZWQ7CgogIGlmICghcmVhY3RIb3RMb2FkZXIpIHsKICAgIHJldHVybjsKICB9CgogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKHByb3BUeXBlcywgInByb3BUeXBlcyIsICJHOlxcQXBwVHV0ZVxcbnVnZ2llLXJlYWN0LXVzZWZvcm1cXHNyY1xcdXNlRm9ybS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGRlZmF1bHRQcm9wcywgImRlZmF1bHRQcm9wcyIsICJHOlxcQXBwVHV0ZVxcbnVnZ2llLXJlYWN0LXVzZWZvcm1cXHNyY1xcdXNlRm9ybS5qcyIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFVzZUZvcm0sICJVc2VGb3JtIiwgIkc6XFxBcHBUdXRlXFxudWdnaWUtcmVhY3QtdXNlZm9ybVxcc3JjXFx1c2VGb3JtLmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkc6XFxBcHBUdXRlXFxudWdnaWUtcmVhY3QtdXNlZm9ybVxcc3JjXFx1c2VGb3JtLmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9IHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbC5sZWF2ZU1vZHVsZSA6IHVuZGVmaW5lZDsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["G:/AppTute/nuggie-react-useform/src/useForm.js"],"names":["useState","useEffect","useCallback","PropTypes","propTypes","stateSchema","object","isRequired","validationSchema","callback","func","defaultProps","UseForm","props","state","setState","disable","setDisable","isDirty","setIsDirty","validateState","hasErrorInState","Object","keys","some","key","isInputFieldRequired","required","stateValue","value","stateError","error","handleOnChange","event","name","target","substr","toUpperCase","validator","regEx","test","prevState","handleOnSubmit","preventDefault","handlePasswordShow","previousSibling","type"],"mappings":"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","sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const propTypes = {\r\n  stateSchema: PropTypes.object.isRequired,\r\n  validationSchema: PropTypes.object,\r\n  callback: PropTypes.func,\r\n};\r\n\r\nexport const defaultProps = {\r\n  validationSchema: {},\r\n  callback: null,\r\n};\r\n\r\nconst UseForm = props => {\r\n  const { stateSchema, validationSchema, callback } = props;\r\n\r\n  const [state, setState] = useState(stateSchema);\r\n  const [disable, setDisable] = useState(true);\r\n  const [isDirty, setIsDirty] = useState(false);\r\n\r\n  // Disable button in initial render.\r\n  useEffect(() => {\r\n    setDisable(true);\r\n  }, []);\r\n\r\n  // For every changed in our state this will be fired\r\n  // To be able to disable the button\r\n  useEffect(() => {\r\n    if (isDirty) {\r\n      setDisable(validateState());\r\n    }\r\n  }, [state, isDirty]);\r\n\r\n  // Used to disable submit button if there's an error in state\r\n  // or the required field in state has no value.\r\n  // Wrapped in useCallback to cached the function to avoid intensive memory leaked\r\n  // in every re-render in component\r\n  const validateState = useCallback(() => {\r\n    const hasErrorInState = Object.keys(validationSchema).some(key => {\r\n      const isInputFieldRequired = validationSchema[key].required;\r\n      const stateValue = state[key].value; // state value\r\n      const stateError = state[key].error; // state error\r\n\r\n      return (isInputFieldRequired && !stateValue) || stateError;\r\n    });\r\n\r\n    return hasErrorInState;\r\n  }, [state, validationSchema]);\r\n\r\n  // Used to handle every changes in every input\r\n  const handleOnChange = useCallback(\r\n    event => {\r\n      setIsDirty(true);\r\n\r\n      const name = event.target.name;\r\n      const value = event.target.value;\r\n\r\n      let error = '';\r\n      if (validationSchema[name].required) {\r\n        if (!value) {\r\n          error = `${name.substr(0, 1).toUpperCase() + name.substr(1)} field is required.`;\r\n        }\r\n      }\r\n\r\n      if (\r\n        validationSchema[name].validator !== null &&\r\n        typeof validationSchema[name].validator === 'object'\r\n      ) {\r\n        if (value && !validationSchema[name].validator.regEx.test(value)) {\r\n          error = validationSchema[name].validator.error;\r\n        }\r\n      }\r\n\r\n      setState(prevState => ({\r\n        ...prevState,\r\n        [name]: { value, error },\r\n      }));\r\n    },\r\n    [validationSchema],\r\n  );\r\n\r\n  const handleOnSubmit = useCallback(\r\n    event => {\r\n      event.preventDefault();\r\n\r\n      // Make sure that validateState returns false\r\n      // Before calling the submit callback function\r\n      if (!validateState()) {\r\n        callback(state);\r\n      }\r\n    },\r\n    [state],\r\n  );\r\n\r\n  const handlePasswordShow = useCallback(\r\n    event => {\r\n      const name = event.target.previousSibling.name;\r\n      const type = event.target.previousSibling.type;\r\n\r\n      if (name !== 'password') {\r\n        return;\r\n      }\r\n\r\n      if (type === 'password') {\r\n        event.target.previousSibling.type = 'text';\r\n        return;\r\n      }\r\n\r\n      event.target.previousSibling.type = 'password';\r\n    },\r\n    [state],\r\n  );\r\n\r\n  return { state, handleOnChange, handleOnSubmit, handlePasswordShow, disable };\r\n};\r\n\r\nUseForm.propTypes = propTypes;\r\nUseForm.defaultProps = defaultProps;\r\n\r\nexport default UseForm;\r\n"]}]}